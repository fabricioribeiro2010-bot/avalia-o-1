import requests

def obter_clima(api_key, cidade, estado, pais='BR'):
    url = f'http://api.openweathermap.org/data/2.5/weather'
    params = {
        'q': f'{cidade},{estado},{pais}',
        'appid': api_key,
        'units': 'metric',
        'lang': 'pt'
    }
    response = requests.get(url, params=params)
    data = response.json()
    if response.status_code != 200:
        raise Exception(f'Erro ao obter clima: {data}')
    return data

def exibir_clima(data):
    nome = data.get('name')
    main = data.get('weather')[0].get('description')
    temp = data.get('main').get('temp')
    umidade = data.get('main').get('humidity')
    vento = data.get('wind').get('speed')
    print(f'Clima em {nome}:')
    print(f'  Condição: {main.capitalize()}')
    print(f'  Temperatura: {temp:.1f}°C')
    print(f'  Umidade: {umidade}%')
    print(f'  Velocidade do vento: {vento} m/s')

if __name__ == '__main__':
    API_KEY = 'sua_chave_aqui'  # coloque sua chave da OpenWeatherMap
    cidade = 'Santa Luz'
    estado = 'PI'
    try:
        clima = obter_clima(API_KEY, cidade, estado)
        exibir_clima(clima)
    except Exception as e:
        print(e)
